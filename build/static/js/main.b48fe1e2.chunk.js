(this["webpackJsonppharmacy_project_2.0"]=this["webpackJsonppharmacy_project_2.0"]||[]).push([[0],{111:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(26),s=a(27),i=a(31),m=a(28),u=a(30),d=a(11),p=a(6),f=a(23),h=(a(82),a(8)),g=function(e){return r.a.createElement("li",null,r.a.createElement(h.c,{exact:!0,to:e.path,className:"link-menu"},e.title))},E=a.p+"static/media/logosport.aac88a1e.png",v=a(19),b=function(e,t){return Object(v.a)({},e,{},t)},y=a(20),N={userId:null,user:null,error:null,loading:!1},j=function(e){return b(e,{error:null,loading:!0})},O=function(e,t){return b(e,{userId:t.userId,user:t.user,isAdmin:t.isAdmin,error:null,loading:!1})},w=function(e,t){return b(e,{error:t.error,loading:!1})},_=function(e){return b(e,{user:null,userId:null})},k=Object(y.a)((function(e){return e.auth.userId}),(function(e){return e})),T=Object(y.a)((function(e){return e.auth.userId}),(function(e){return null!==e})),S=Object(y.a)((function(e){return e.auth.isAdmin}),(function(e){return e})),z=function(){var e=Object(p.d)(T);return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"header-content"},r.a.createElement(h.b,{to:"/",className:""},r.a.createElement("img",{className:"logo",src:E,alt:"logo"})),r.a.createElement("ul",{className:"header__nav"},r.a.createElement(g,{path:"/",title:"Mapa"}),r.a.createElement(g,{path:"/events",title:"Wydarzenia"}),r.a.createElement(g,{path:"/users",title:"Sportowcy"}),e?r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{path:"/observed",title:"Obserwowane"}),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/logout",className:"btn-navigate"},"Wyloguj"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(h.b,{to:"/signin",className:"btn-navigate"},"Zaloguj")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/register",className:"btn-navigate register"},"Zarejestruj si\u0119")))))))))},A=function(e){return r.a.createElement("div",{className:"loaderWrapper ".concat(e.load)},r.a.createElement("div",{className:"loader"}))},C=function(e){return r.a.createElement("div",null,r.a.createElement(A,{load:!1}),r.a.createElement(z,null),r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},e.children)))))},I=a(66),L=a.n(I).a.create({baseURL:"https://sports-friend-finder-3953b.firebaseio.com/"}),x=a(49),D=x.initializeApp({apiKey:"AIzaSyCTQuiB-VOS_XrqZhQ-8KBSzYLkWZ0e9mY",authDomain:"sports-friend-finder-3953b.firebaseapp.com",databaseURL:"https://sports-friend-finder-3953b.firebaseio.com",projectId:"sports-friend-finder-3953b",storageBucket:"sports-friend-finder-3953b.appspot.com",messagingSenderId:"35975487296",appId:"1:35975487296:web:74ea21d4c115bb520a24a5"}),F=x.database(),U=F.ref("events"),W=(F.ref("users"),F.ref("opinions"),function(e,t){return function(a){a({type:"AUTH_START"});var n={email:e,password:t,returnSecureToken:!0};L.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyCTQuiB-VOS_XrqZhQ-8KBSzYLkWZ0e9mY",n).then((function(n){var r=n.data.localId;L.get("/users.json").then((function(c){var l,o=!1;for(var s in c.data){var i=c.data[s];(null===i||void 0===i?void 0:i.id)===r&&(o=i.is_boss)}a(function(e,t,a){return{type:"AUTH_SUCCESS",idToken:e,userId:t,isAdmin:a}}(n.data.idToken,r,o)),a((l=n.data.expiresIn,function(e){setTimeout((function(){e({type:"AUTH_LOGOUT"})}),1e3*l)})),D.auth().signInWithEmailAndPassword(e,t)}))})).catch((function(e){console.error(e),a({type:"AUTH_FAIL",error:e.response.data.error})}))}}),H=function(){return function(e){var t=[],a=[],n=[];Promise.all([L.get("/events.json"),L.get("/users.json"),L.get("/opinions.json")]).then((function(r){var c=r[0],l=r[1],o=r[2];for(var s in c.data)c.data[s]&&t.push(Object(v.a)({key:s},c.data[s]));for(var i in l.data)l.data[i]&&a.push(Object(v.a)({},l.data[i]));for(var m in o.data)o.data[m]&&n.push(Object(v.a)({},o.data[m]));e({type:"FETCH_DATA",payload:{dataEvents:t,dataUsers:a,dataOpinions:n}})})).catch((function(e){return console.error(e)}))}},M=function(){return Object(p.c)()({type:"AUTH_LOGOUT"}),r.a.createElement(f.a,{to:"/"})},P=a(12),q=function(){var e=Object(p.c)(),t=Object(p.d)(T),a=Object(n.useState)(""),c=Object(P.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(""),i=Object(P.a)(s,2),m=i[0],u=i[1];return t?r.a.createElement(f.a,{to:"/"}):r.a.createElement("section",{className:"section-form"},r.a.createElement("div",{className:"SignIn form-main"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),""!==l&&""!==m?function(t,a){e(W(t,a))}(l,m):d.b.error("Wystapil b\u0142\u0105d")},autoComplete:"off"},r.a.createElement("h4",{className:"section__h4"},"Zaloguj si\u0119"),r.a.createElement("div",{className:"form-group user"},r.a.createElement("input",{autoComplete:"new-user",onChange:function(e){return o(e.target.value)},className:"form-control email",name:"email",id:"email",placeholder:"Email",value:l,required:!0})),r.a.createElement("div",{className:"form-group password"},r.a.createElement("input",{autoComplete:"new-password",onChange:function(e){return u(e.target.value)},className:"form-control password",name:"pass",id:"pass",type:"password",placeholder:"Has\u0142o",value:m,required:!0})),r.a.createElement("button",{className:"btn btn-main",type:"submit"},r.a.createElement("span",null,"Zaloguj si\u0119")))))},B=["Bieganie","Pi\u0142ka no\u017cna","Pi\u0142ka siatkowa","Koszyk\xf3wka","P\u0142ywanie","Tenis","Si\u0142ownia","Rower","Rugby"],K=["https://image.flaticon.com/icons/svg/55/55240.svg","http://simpleicon.com/wp-content/uploads/football.png","https://cdn4.iconfinder.com/data/icons/sports-38/58/volei-512.png","https://cdn0.iconfinder.com/data/icons/basketball-19/32/Basketball_Icon_set_Outline_ball_1-512.png","https://cdn3.iconfinder.com/data/icons/summer/512/swim-512.png","https://cdn1.iconfinder.com/data/icons/sport-line-12/64/Racket_racquette_sport_tennis_icon-512.png","https://cdn4.iconfinder.com/data/icons/gym-workout-1/128/8-512.png","https://cdn3.iconfinder.com/data/icons/man-using-phone-and-listening-to-earphone/254/earphone-man-009-512.png","https://cdn3.iconfinder.com/data/icons/sports-1-5/512/3-512.png"],G=function(e){var t=e.email,a=e.password,n=e.userName,r=e.favouriteSport;return D.auth().createUserWithEmailAndPassword(t,a).then((function(e){return function(e){var t=e.userId,a=e.email,n=e.userName,r=e.favouriteSport;L.post("/users.json",{id:t,email:a,favourite_sport:r,name:n,is_boss:!1}).then((function(){return d.b.success("U\u017cytkownik dodany"),!0})).catch((function(e){return d.b.error("Wyst\u0105pi\u0142 b\u0142\u0105d ",e),!1}))}({userId:e.user.uid,email:t,userName:n,favouriteSport:r})})).catch((function(e){return d.b.error("Wyst\u0105pi\u0142 b\u0142\u0105d ",e),!1}))},Z=function(){var e=Object(p.d)(T),t=Object(n.useState)(""),a=Object(P.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),s=Object(P.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(""),d=Object(P.a)(u,2),h=d[0],g=d[1],E=Object(n.useState)(""),v=Object(P.a)(E,2),b=v[0],y=v[1],N=Object(n.useState)(!1),j=Object(P.a)(N,2),O=j[0],w=j[1];return O?r.a.createElement(f.a,{to:"/signin"}):e?r.a.createElement(f.a,{to:"/"}):r.a.createElement("section",{className:"section-form"},r.a.createElement("div",{className:"SignIn form-main"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w(G({email:i,password:h,userName:c,favouriteSport:b}))},autoComplete:"off"},r.a.createElement("h4",{className:"section__h4"},"Zarejestruj si\u0119"),r.a.createElement("div",{className:"form-group email"},r.a.createElement("input",{autoComplete:"new-email",onChange:function(e){return m(e.target.value)},className:"form-control email",name:"email",id:"email",placeholder:"Email",value:i,required:!0})),r.a.createElement("div",{className:"form-group userName"},r.a.createElement("input",{autoComplete:"new-username",onChange:function(e){return l(e.target.value)},className:"form-control userName",name:"userName",id:"userName",placeholder:"Nazwa u\u017cytkownika",value:c,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control",required:!0,onChange:function(e){return y(e.target[e.target.selectedIndex].getAttribute("value"))}},r.a.createElement("option",null,"Wybierz ulubion\u0105 dyscyplin\u0119"),B.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group password"},r.a.createElement("input",{autoComplete:"new-password",onChange:function(e){return g(e.target.value)},className:"form-control password",name:"pass",id:"pass",type:"password",placeholder:"Has\u0142o",value:h,required:!0})),r.a.createElement("button",{className:"btn btn-main",type:"submit"},r.a.createElement("span",null,"Zarejestruj si\u0119")))))},R=a(136);a(111);function V(e){return e.get("hereChecked")?{success:!0,hereLat:e.get("hereLat"),hereLng:e.get("hereLng")}:navigator&&navigator.geolocation?void navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;return e.set("hereLat",a.latitude,{path:"/",maxAge:3600}),e.set("hereLng",a.longitude,{path:"/",maxAge:3600}),e.set("hereChecked",!0,{path:"/",maxAge:3600}),{success:!0,hereLat:e.get("hereLat"),hereLng:e.get("hereLng")}}),(function(e){return{success:!1}}),{maximumAge:60,timeout:1e4,enableHighAccuracy:!0}):{success:!1}}var Q=a(70),X=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#ff0a00"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"transit.station.airport",elementType:"labels.text.stroke",stylers:[{gamma:"1.00"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#1976d2"},{lightness:17}]}],Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).loadMap=function(){if(a.props&&a.props.google){var e=function(e,t,a,n){var r=parseFloat(a),c=parseFloat(n);e.route({origin:{lat:p,lng:d},destination:{lat:c,lng:r},travelMode:"DRIVING"},(function(e,a){"OK"===a?t.setDirections(e):window.alert("Directions request failed due to "+a)}))},t=a.props.google,n=t.maps,r=new n.DirectionsService,c=new n.DistanceMatrixService,o=new n.DirectionsRenderer,s=a.refs.map,i=l.a.findDOMNode(s),m=a.props.event||a.props.hereChecked?{lat:parseFloat(a.props.hereLat),lng:parseFloat(a.props.hereLng)}:{lat:54.344406,lng:18.70492},u=Object.assign({},{center:m,zoom:a.props.event?16:12,mapTypeId:"roadmap",styles:X});a.map=new n.Map(i,u),o.setMap(a.map),a.props.data&&a.props.data.map((function(e){var n=parseFloat(e.lng),r=parseFloat(e.lat),c=new t.maps.InfoWindow({content:e.name}),l=new t.maps.Marker({position:{lat:r,lng:n},map:a.map});l.addListener("click",(function(){c.open(this.map,l)}))}));var d=parseFloat(a.props.hereLng),p=parseFloat(a.props.hereLat),f=new t.maps.InfoWindow({content:a.props.event?"Wydarzenie":"Tu jeste\u015b"}),h=new t.maps.Marker({position:{lat:p,lng:d},map:a.map});if(h.addListener("click",(function(){f.open(this.map,h)})),a.props.destSearch)e(r,o,a.props.destLng,a.props.destLat);else if(a.props.destMatrix){var g=function(t,a){t.getDistanceMatrix({origins:[{lat:p,lng:d}],destinations:a,travelMode:"DRIVING"},(function(t,n){if("OK"!==n)console.error("Error on google API side");else{var c,l,s=[];for(var i in t.rows[0].elements)s.push(Object(v.a)({},t.rows[0].elements[i]));s.map((function(e,t){void 0===c?(c=e.distance.value,l=t):c>e.distance.value&&(c=e.distance.value,l=t)})),e(r,o,a[l].lng,a[l].lat)}}))};if(a.props.dataFromNavigation.length>0)g(c,a.props.dataFromNavigation.map((function(e){return{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}})));else g(c,a.props.data.map((function(e){return{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}})))}}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadMap()}},{key:"componentDidUpdate",value:function(){(this.props.destSearch||this.props.destMatrix)&&this.loadMap()}},{key:"render",value:function(){return r.a.createElement("div",{ref:"map",style:{width:"100%",height:"75vh"}},"Wczytywanie mapy...")}}]),t}(n.Component),J=a(40),$=Object(J.GoogleApiWrapper)({apiKey:"AIzaSyCNvB4QyXUU6I2gbxAI3DKCVlVESPEAAlA"})((function(e){var t=e.google,a=Object(Q.a)(e,["google"]);return r.a.createElement("div",null,r.a.createElement(Y,Object.assign({},a,{google:t})))})),ee={events:[],opinions:[],users:[]},te=Object(y.a)((function(e){return e.data.events}),(function(e){return e})),ae=(Object(y.a)((function(e){return e.data.opinions}),(function(e){return e})),Object(y.a)((function(e){return e.data.users}),(function(e){return e})));var ne=Object(R.a)((function(e){var t=e.cookies,a=Object(p.d)(te),c=V(t),l=null===c||void 0===c?void 0:c.success,o=null===c||void 0===c?void 0:c.hereLat,s=null===c||void 0===c?void 0:c.hereLng,i=Object(n.useState)(""),m=Object(P.a)(i,2),u=m[0],d=m[1],f=Object(n.useState)(""),h=Object(P.a)(f,2),g=h[0],E=h[1],v=Object(n.useState)("event"),b=Object(P.a)(v,2),y=(b[0],b[1],Object(n.useState)("")),N=Object(P.a)(y,2),j=N[0],O=N[1],w=Object(n.useState)(!1),_=Object(P.a)(w,2),k=_[0],T=_[1],S=Object(n.useState)(""),z=Object(P.a)(S,2),A=z[0],C=(z[1],Object(n.useState)(a)),I=Object(P.a)(C,2),L=I[0],x=I[1];return Object(n.useEffect)((function(){x(""===j?a:a.filter((function(e){return e.sport===j})))}),[a,j]),r.a.createElement("section",{className:"section-welcome"},r.a.createElement("div",{className:"panel navigate-column"},r.a.createElement("h4",{className:"section-welcome__h4"},"Znajd\u017a wydarzenie!"),r.a.createElement("div",{className:"section-welcome__select-panel"},r.a.createElement("h5",null,"Dyscyplina"),r.a.createElement("select",{style:{marginLeft:0},className:"form-control",required:!0,onChange:function(e){return O(e.target[e.target.selectedIndex].getAttribute("value"))}},r.a.createElement("option",null,"Wybierz dyscyplin\u0119"),B.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"section-welcome__select-panel"},r.a.createElement("h5",null,"Wydarzenie"),r.a.createElement("select",{style:{marginLeft:0},className:"form-control",onChange:function(e){d(e.target[e.target.selectedIndex].getAttribute("lng")),E(e.target[e.target.selectedIndex].getAttribute("lat"))}},r.a.createElement("option",null,"Wybierz wydarzenie"),L&&L.map((function(e){return r.a.createElement("option",{key:"".concat(e.key,"_").concat(e.lat),lat:e.lat,lng:e.lng},e.name)})),"}")),r.a.createElement("div",{className:"section-welcome__buttons-panel section-welcome__select-panel"},r.a.createElement("button",{disabled:!(Boolean(l)&&""!==u&&""!==g),onClick:function(){return T(!0)},className:"btn btn-main"},"Nawiguj")),!l&&r.a.createElement("div",{className:"section-welcome__buttons-panel section-welcome__select-panel"},r.a.createElement("button",{onClick:function(){return V(t)},className:"btn btn-main"},"Pobierz lokalziacj\u0119"))),r.a.createElement("div",{className:"panel map-column"},r.a.createElement("div",{className:"section-welcome-map__wrapper"},r.a.createElement($,{ref:function(e){e},hereChecked:l,destMatrix:A,dataFromNavigation:[],destSearch:k,destLat:g,destLng:u,hereLat:o,hereLng:s}))))}));function re(e){var t=B.findIndex((function(t){return t===e}));return t<0?null:K[t]}var ce=function(){Object(p.d)(S);var e=Object(p.d)(ae);return r.a.createElement("section",{className:"section-users"},r.a.createElement("h3",{className:"section-users__h3"},"Lista u\u017cytkownik\xf3w"),r.a.createElement("div",{className:"panel-user-wrapper"},e.map((function(e){return r.a.createElement("div",{key:e.id,className:"panel-user"},r.a.createElement("span",{className:"panel-user-icon"},r.a.createElement("img",{src:re(e.favourite_sport)})),r.a.createElement(h.b,{className:"panel-user-name",to:"/users/"+e.id},e.name))}))))},le=a(39),oe=a(38),se=a(137),ie=a(141),me=a(138),ue=a(139),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).changeHandler=function(e,t){return a.setState(Object(le.a)({},t,e.target.value))},a.handleGeocode=function(){var e=a.state,t=e.date,n=e.desc,r=e.limit,c=e.name,l=e.sport,o=e.address,s=e.time;if(null===t||""===n||null===r||""===c||""===l||""===a.props.userid||""===o||null===s)return d.b.error("Uzupe\u0142nij wszystkie pola"),!1;(function(e,t){var a=new t.maps.Geocoder;return new Promise((function(t,n){e||n(!1),a.geocode({address:e},(function(e,a){if("OK"===a){var r=e[0].geometry.location.lat(),c=e[0].geometry.location.lng();t({success:!0,lat:r,lng:c})}else n(!1)}))}))})(a.state.address,a.props.google).then((function(e){e||d.b.error("Wyst\u0105pi\u0142 b\u0142\u0105d");var i=e.lat,m=e.lng;L.post("/events.json",{date:t,desc:n,lat:i,lng:m,limit:r,name:c,sport:l,address:o,time:s,userId:a.props.userId,activePeople:[a.props.userId],comments:[]}).then((function(){return a.toggle(),a.setState({date:null,desc:"",limit:null,lat:"",lng:"",name:"",sport:"",address:"",time:null}),a.props.fetchData(),d.b.success("Wydarzenie dodane")})).catch((function(e){return d.b.error("Wyst\u0105pi\u0142 b\u0142\u0105d: ",e)}))}))},a.state={date:null,desc:"",limit:null,lat:"",lng:"",name:"",sport:"",address:"",time:null,modal:!1},a.toggle=a.toggle.bind(Object(oe.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.isAuth?r.a.createElement(se.a,{className:"btn-main add-pharmacy",onClick:this.toggle},"Dodaj nowe wydarzenie"):null,r.a.createElement(ie.a,{isOpen:this.state.modal,toggle:this.toggle,size:"lg",centered:!0},r.a.createElement(me.a,{toggle:this.toggle},"Nowe wydarzenie"),r.a.createElement(ue.a,null,r.a.createElement("div",{style:{marginBottom:"20px"},className:"row justify-content-center"},r.a.createElement("div",{className:"col-6"},r.a.createElement("form",{className:"form",action:"",method:"post"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Nazwa"),r.a.createElement("input",{onChange:function(t){return e.changeHandler(t,"name")},type:"text",className:"form-control",name:"name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Opis"),r.a.createElement("input",{onChange:function(t){return e.changeHandler(t,"desc")},type:"text",className:"form-control",name:"description",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Data"),r.a.createElement("input",{onChange:function(t){return e.changeHandler(t,"date")},type:"date",name:"date",min:new Date,className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Godzina"),r.a.createElement("input",{onChange:function(t){return e.changeHandler(t,"time")},type:"time",name:"time",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Limit os\xf3b"),r.a.createElement("input",{onChange:function(t){return e.changeHandler(t,"limit")},type:"number",min:"1",max:"99",className:"form-control",id:"limit",name:"limit",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Dyscyplina"),r.a.createElement("select",{className:"form-control",required:!0,onChange:function(t){return e.setState({sport:t.target[t.target.selectedIndex].getAttribute("value")})}},r.a.createElement("option",null,"Wybierz dyscyplin\u0119"),B.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Miejsce"),r.a.createElement("input",{onChange:function(t){return e.changeHandler(t,"address")},type:"text",className:"form-control",id:"address",name:"address",required:!0})),r.a.createElement("div",{className:"section__btns"},r.a.createElement("button",{type:"button",onClick:function(){return e.handleGeocode()},className:"btn btn-main"},"Dodaj"))))))))}}]),t}(r.a.Component),pe=Object(p.b)((function(e){return{isAuth:null!==e.auth.userId,userId:e.auth.userId,user:e.auth.user}}),(function(e){return{fetchData:function(){return e(H())}}}))(de),fe=Object(J.GoogleApiWrapper)({apiKey:"AIzaSyCNvB4QyXUU6I2gbxAI3DKCVlVESPEAAlA"})((function(e){var t=e.google,a=Object(p.d)(te),n=(Object(p.d)(T),Object(p.d)(S));return r.a.createElement("section",{className:"section-pharmacies"},r.a.createElement("h3",{className:"section-opinions__h3"},"Lista wydarze\u0144"),r.a.createElement(pe,{google:t})," ",a.map((function(e,t){return r.a.createElement("div",{className:"row",key:e.key},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"panel-link-wrapper"},r.a.createElement(h.b,{to:"/events/"+e.name},r.a.createElement("div",{className:"panel-link"},r.a.createElement("span",{className:"panel-link-icon"},r.a.createElement("img",{src:re(e.sport)})),r.a.createElement("span",{className:"panel-link-name"},e.name),r.a.createElement("span",{className:"panel-link-address"},e.address))),n&&r.a.createElement("div",{className:"panel-close",onClick:function(){return t=e.key,void U.child(t).remove().then((function(){d.b.success("Item deleted")})).catch((function(e){d.b.error("Wystapil blad: "+e)}));var t}},r.a.createElement("i",{className:"fas fa-times"})))))})))})),he=(a(68),function(){return r.a.createElement("section",{className:"section-dashboard"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"panel-dashboard--large pharmacies"},r.a.createElement("h3",{className:"panel-dashboard__h3"},"Sportowcy ",r.a.createElement("span",null,"(30)")))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"panel-dashboard--small users"},r.a.createElement("h3",{className:"panel-dashboard__h3"},"Cz\u0142onkowie ",r.a.createElement("span",null,"(25)"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"panel-dashboard--small products"},r.a.createElement("h3",{className:"panel-dashboard__h3"},"Wydarzenia ",r.a.createElement("span",null,"(312)")))))))))}),ge=function(){return(void 0).props.isAuth?r.a.createElement("section",{className:"section-products"},r.a.createElement("div",{className:"panel-product head"},r.a.createElement("span",{className:"panel-product-photo"},"Zdj\u0119cie"),r.a.createElement("span",{className:"panel-product-name"},"Nazwa"),r.a.createElement("span",{className:"panel-product-descr"},"Opis")),[].map((function(e){return r.a.createElement("div",{key:e.id,className:"panel-product"},r.a.createElement("img",{className:"panel-product-photo",src:e.photo_link,alt:""}),r.a.createElement("span",{className:"panel-product-name"},e.name),r.a.createElement("span",{className:"panel-product-descr",dangerouslySetInnerHTML:{__html:e.description}}),r.a.createElement("div",{className:"panel-close",onClick:function(){return e.id,!0}},r.a.createElement("i",{className:"fas fa-times"})))}))):r.a.createElement(f.a,{to:"/"})},Ee=function(e){var t,a=Object(p.d)((t=e.match.params.user,Object(y.a)(ae,(function(e){return e.find((function(e){return e.id===t}))})))),n=null===a||void 0===a?void 0:a.id,c=Object(p.d)(function(e){return Object(y.a)(te,(function(t){return t.filter((function(t){return t.activePeople.find((function(t){return t===e}))}))}))}(n));if(!a)return r.a.createElement("div",null);return r.a.createElement("section",{className:"section-pharmacies"},r.a.createElement("div",{key:a.id,className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"community-profile"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"community-profile-info"},r.a.createElement("div",{className:"community-profile__photo"},r.a.createElement("img",{src:re(a.favourite_sport)})),r.a.createElement("h3",{className:"community-profile__h3"},a.name),r.a.createElement("h3",{className:"community-profile__h4"},"Ulubiony sport: ",a.favourite_sport))),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"community-profile-content"},r.a.createElement("h3",{className:"community-profile__h3"},"Wydarzenia w kt\xf3rych bierze udzia\u0142 u\u017cytkownik"),c&&c.map((function(e){return r.a.createElement("div",{key:e.key,className:"community-profile-comment"},r.a.createElement(h.b,{to:"/events/"+e.name},e.name)," ",r.a.createElement("span",{className:"mark"},e.address))})),!c||!c.length&&r.a.createElement("div",{className:"community-profile-comment"},"Brak Wydarze\u0144."))))))))},ve=a(50),be=function(e){var t=Object(p.c)(),a=Object(p.d)(function(e){return Object(y.a)(te,(function(t){return t.find((function(t){return t.name===e}))}))}(e.match.params.event)),c=Object(p.d)(T),l=Object(p.d)(k),o=Object(p.d)(ae),s=Object(n.useState)(""),i=Object(P.a)(s,2),m=i[0],u=i[1];if(!a)return r.a.createElement("div",null);var f=a.activePeople,g=a.comments,E=c&&f.findIndex((function(e){return e===l}))>-1,b=function(e){return o.find((function(t){return t.id===e}))};return r.a.createElement("section",{className:"section-pharmacies"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"community-profile"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"community-profile-info"},r.a.createElement("div",{className:"community-profile__photo"},r.a.createElement("img",{src:re(a.sport)})),c?r.a.createElement(se.a,{className:"btn-main marginHorizontal",onClick:E?function(){return function(){if(!E)return!1;U.child(a.key).set(Object(v.a)({},a,{activePeople:f.filter((function(e){return e!==l}))})).then((function(){return t(H()),d.b.success("added")}))}()}:function(){return function(){if(E)return!1;U.child(a.key).set(Object(v.a)({},a,{activePeople:[].concat(Object(ve.a)(f),[l])})).then((function(){t(H()),d.b.success("Do\u0142\u0105czy\u0142e\u015b do wydarzenia")}))}()}},E?"Opu\u015b\u0107 wydarzenie":"Do\u0142\u0105cz do wydarzenia"):r.a.createElement("h5",null,"Aby do\u0142\u0105czy\u0107, ",r.a.createElement(h.b,{to:"/signin"},"zaloguj si\u0119")),r.a.createElement("h3",{className:"community-profile__h3"},a.name),r.a.createElement("p",{className:"community-profile-description"},r.a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"})," Opis: ",a.desc),r.a.createElement("p",{className:"community-profile-description"},r.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"}),a.address),r.a.createElement("p",{className:"community-profile-description"},r.a.createElement("i",{className:"fa fa-calendar","aria-hidden":"true"})," Data wydarzenia: ",a.date),r.a.createElement("p",{className:"community-profile-description"},r.a.createElement("i",{className:"fa fa-clock","aria-hidden":"true"})," Godzina: ",a.time))),r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"community-profile-content"},r.a.createElement("h3",{className:"community-profile__h3"},"Komentarze"),c?r.a.createElement("form",{className:"community-profile__form"},r.a.createElement("textarea",{onChange:function(e){return u(e.target.value)},className:"community-profile__textarea",rows:"4",cols:"50",placeholder:"Tre\u015b\u0107 komentarza..."}),r.a.createElement("button",{onClick:function(){return function(){if(""===m)return!1;var e=g||[];U.child(a.key).set(Object(v.a)({},a,{comments:[].concat(Object(ve.a)(e),[{desc:m,id:l,name:b(l).id}])})).then((function(){t(H()),d.b.success("Komentarz dodany")}))}()},className:"btn btn-main btn-publish",type:"button"},"Opublikuj")):null,g&&g.length&&g.map((function(e){return r.a.createElement("div",{key:e.desc,className:"community-profile-comment"},r.a.createElement("p",null,e.desc)," ",r.a.createElement("p",null,"Przez:"," ",r.a.createElement(h.b,{to:"/users/".concat(e.id)},e.name)))})),(!g||!g.length)&&r.a.createElement("div",{className:"community-profile-comment"},"Brak komentarzy."))),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"community-profile-products"},r.a.createElement("h3",{className:"community-profile__h3"},"Lista bior\u0105cych udzia\u0142"),f&&f.length&&r.a.createElement("div",{className:"community-profile-product"},f.map((function(e){var t=b(e);return r.a.createElement("span",{key:t.id,className:"community-profile-product-name"},r.a.createElement(h.b,{to:"/users/".concat(t.id)},t.name))}))),(!f||!f.length)&&r.a.createElement("div",{className:"community-profile-product"},"Nikt jeszcze nie bierze udzia\u0142u.")))),r.a.createElement("div",{className:"panel map-column map-column-nofloat"},r.a.createElement("div",{className:"section-welcome-map__wrapper"},r.a.createElement($,{event:!0,dataFromNavigation:[],destSearch:!1,hereLat:a.lat,hereLng:a.lng})))))))},ye=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){return r.a.createElement(C,{loaded:!1},r.a.createElement(d.a,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:ne}),r.a.createElement(f.b,{path:"/users",exact:!0,component:ce}),r.a.createElement(f.b,{path:"/users/:user",exact:!0,component:Ee}),r.a.createElement(f.b,{path:"/events",exact:!0,component:fe}),r.a.createElement(f.b,{path:"/events/:event",exact:!0,component:be}),r.a.createElement(f.b,{path:"/signin",exact:!0,component:q}),r.a.createElement(f.b,{path:"/register",exact:!0,component:Z}),r.a.createElement(f.b,{path:"/logout",exact:!0,component:M}),r.a.createElement(f.b,{path:"/dashboard",exact:!0,component:he}),r.a.createElement(f.b,{path:"/observed",exact:!0,component:ge})))}}]),t}(n.Component),Ne=Object(p.b)(void 0,(function(e){return{fetchData:function(){return e(H())}}}))(ye),je=(a(131),a(132),a(24)),Oe=a(69),we=a(140),_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.d,ke=Object(je.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return j(e);case"AUTH_SUCCESS":return O(e,t);case"AUTH_FAIL":return w(e,t);case"AUTH_LOGOUT":return _(e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA":return b(e,{events:t.payload.dataEvents,opinions:t.payload.dataOpinions,users:t.payload.dataUsers});default:return e}}}),Te=Object(je.e)(ke,_e(Object(je.a)(Oe.a))),Se=r.a.createElement(p.a,{store:Te},r.a.createElement(we.a,null,r.a.createElement(h.a,null,r.a.createElement(Ne,null))));l.a.render(Se,document.getElementById("root"))},73:function(e,t,a){e.exports=a(133)},82:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.b48fe1e2.chunk.js.map